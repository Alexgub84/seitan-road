(this["webpackJsonpseitan-shop"]=this["webpackJsonpseitan-shop"]||[]).push([[0],{147:function(e,t){},210:function(e,t,n){e.exports=n(364)},235:function(e,t,n){e.exports=n.p+"static/media/addToCart.bfc5bd9a.svg"},237:function(e,t,n){e.exports=n.p+"static/media/delete.b34ac6d2.svg"},238:function(e,t,n){e.exports=n.p+"static/media/delivery.4a1173f4.svg"},243:function(e,t){},244:function(e,t){},360:function(e,t,n){e.exports=n.p+"static/media/hamburger.9c0774f1.svg"},361:function(e,t,n){e.exports=n.p+"static/media/logo-navbar.8e7b1a3b.png"},362:function(e,t,n){e.exports=n.p+"static/media/cart.a4e67734.svg"},363:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),s=n.n(c),o=n(29),i=n(4),l=n.n(i),u=n(9),p=n(7),m=n(8),d=n(14),f=n(15),h=n(24),v=n(96),y=n.n(v),E=n(172),g=n.n(E).a.create({withCredentials:!0}),b=function(e,t){return w(e,"GET",t)},O=function(e,t){return w(e,"POST",t)},j=function(e,t){return w(e,"PUT",t)},k=function(e,t){return w(e,"DELETE",t)};function w(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(l.a.mark((function e(t){var n,a,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"get",a=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,g({url:"".concat("/api").concat(t),method:n,data:a});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(a)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var N={query:function(e){return x.apply(this,arguments)}};function x(){return(x=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,b("".concat("/item").concat(""),{params:t});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return function(e){N.query().then((function(t){e({type:"SET_PRODUCTS",items:t})}))}}var C={query:function(e){return R.apply(this,arguments)},save:function(e){return T.apply(this,arguments)}};function R(){return(R=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("".concat("/settings"));case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("/settings"),t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.query();case 2:n=e.sent,t({type:"SET_SETTINGS",settings:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var A=n(31),_=n(11);var I={login:function(e){return U.apply(this,arguments)},logout:function(){return q.apply(this,arguments)}};function U(){return(U=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/auth/login",t);case 2:return n=e.sent,e.abrupt("return",L(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function M(){return function(e){return e({type:"EMPTY_CART"})}}function G(){return function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var F=r.a.createElement("g",{id:"Group_604","data-name":"Group 604",transform:"translate(0.85 0.85)"},r.a.createElement("line",{id:"Line_4","data-name":"Line 4",x2:8,transform:"translate(8 4) rotate(180)",fill:"none",stroke:"#267240",strokeLinecap:"round",strokeWidth:1.7}),r.a.createElement("line",{id:"Line_5","data-name":"Line 5",x2:8,transform:"translate(4 8) rotate(-90)",fill:"none",stroke:"#267240",strokeLinecap:"round",strokeWidth:1.7})),Q=function(e){var t=e.svgRef,n=e.title,a=V(e,["svgRef","title"]);return r.a.createElement("svg",B({width:9.7,height:9.7,viewBox:"0 0 9.7 9.7",ref:t},a),n?r.a.createElement("title",null,n):null,F)},Y=r.a.forwardRef((function(e,t){return r.a.createElement(Q,B({svgRef:t},e))}));n.p;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z=r.a.createElement("g",{id:"Group_605","data-name":"Group 605",transform:"translate(0.85 0.85)"},r.a.createElement("line",{id:"Line_4","data-name":"Line 4",x2:8,transform:"translate(8 0) rotate(180)",fill:"none",stroke:"#267240",strokeLinecap:"round",strokeWidth:1.7})),J=function(e){var t=e.svgRef,n=e.title,a=H(e,["svgRef","title"]);return r.a.createElement("svg",W({width:9.7,height:1.7,viewBox:"0 0 9.7 1.7",ref:t},a),n?r.a.createElement("title",null,n):null,z)},K=r.a.forwardRef((function(e,t){return r.a.createElement(J,W({svgRef:t},e))}));n.p;function X(e){var t=e.measure,n=e.quantity;return r.a.createElement("div",{className:"amount",onClick:function(e){console.log({evFromQuantity:e})}},"unit"===t?"".concat(n," \u05d9\u05d7' "):"".concat(100*n," \u05d2'"))}function $(e){var t=e.onAdd,n=e.onReduce,a=e.measure,c=e.quantity;return r.a.createElement("div",{className:"amount-btn-container flex"},r.a.createElement("div",{className:"plus-btn amount-btn",onClick:t},r.a.createElement(Y,null)),r.a.createElement(X,{measure:a,quantity:c}),r.a.createElement("div",{className:"minus-btn amount-btn",onClick:n},r.a.createElement(K,null)))}function Z(e){var t=e.onAddToCart;return r.a.createElement("div",{className:"add-to-cart-btn",onClick:t},"\u05d4\u05d5\u05e1\u05e4\u05d4 \u05dc\u05e1\u05dc",r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:n(235)})))}function ee(e){var t=e.souses,n=e.sousePrice,a=e.onSouseClicked;return r.a.createElement("div",{className:"select-box"},t.map((function(e,t){return r.a.createElement("div",{className:"select-box-item",key:t,value:e,onClick:function(t){return a(t,e,n)}},e," ",0!==t&&0!==n&&"\u20aa".concat(n))})))}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ae=r.a.createElement("g",{id:"Group_835","data-name":"Group 835",transform:"translate(1.426 1.426)"},r.a.createElement("line",{id:"Line_5","data-name":"Line 5",y1:.063,x2:7.28,transform:"translate(5.19 5.148) rotate(-45)",fill:"none",stroke:"#267240",strokeLinecap:"round",strokeWidth:2}),r.a.createElement("line",{id:"Line_48","data-name":"Line 48",x2:7.28,y2:.063,transform:"translate(0.044) rotate(45)",fill:"none",stroke:"#267240",strokeLinecap:"round",strokeWidth:2})),re=function(e){var t=e.svgRef,n=e.title,a=ne(e,["svgRef","title"]);return r.a.createElement("svg",te({width:13.235,height:8.045,viewBox:"0 0 13.235 8.045",ref:t},a),n?r.a.createElement("title",null,n):null,ae)},ce=r.a.forwardRef((function(e,t){return r.a.createElement(re,te({svgRef:t},e))})),se=(n.p,function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isDropDownShown:!1},e.onToggleDropDown=function(t){t.stopPropagation(),t.preventDefault(),e.setState({isDropDownShown:!e.state.isDropDownShown})},e.onSouseClicked=function(t,n,a){e.onToggleDropDown(t),e.props.onSouseChange(n)},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.souses,a=t.sousePrice,c=t.chosenSouse;t.onSouseChange;return r.a.createElement("div",{className:"marinada-select-container flex",onClick:function(t){return e.onToggleDropDown(t)}},r.a.createElement("div",{className:"marinada-select-btn"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"marinada-select-selected"},c||"\u05de\u05e8\u05d9\u05e0\u05d3\u05d4"),this.state.isDropDownShown&&r.a.createElement(ee,{chosenSouse:c,souses:n,sousePrice:a,onSouseClicked:this.onSouseClicked}))}}]),n}(r.a.Component)),oe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={quantity:1,cart:[],souse:null},e.onAdd=function(t){e.stopAndPrevent(t),e.setState({quantity:e.state.quantity+1})},e.onReduce=function(t){e.stopAndPrevent(t),1!==e.state.quantity&&e.setState({quantity:e.state.quantity-1})},e.onSouseChange=function(t){e.setState({souse:t})},e.onAddToCart=function(t){e.stopAndPrevent(t),e.setState({quantity:1}),e.props.item.souses&&e.setState({souse:"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"});var n=Object(_.a)(Object(_.a)({},e.props.item),{},{quantity:e.state.quantity,souse:e.state.souse});if(console.log("item is",e.props.item),"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"===e.state.souse&&"\u05e4\u05d5\u05dc\u05e7\u05e2 \u05e2\u05d5\u05e3"===e.props.item.name)return alert("\u05e4\u05d5\u05dc\u05e7\u05e2 \u05e2\u05d5\u05e3 \u05dc\u05d0 \u05d4\u05d5\u05dc\u05da \u05d1\u05dc\u05d9 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4, \u05d0\u05d6 \u05ea\u05d1\u05d7\u05e8\u05d5 \u05de\u05e9\u05d4\u05d5 \u05de\u05e2\u05e0\u05d9\u05d9\u05df");e.props.addToCart(n),e.props.history.push("/shop")},e.stopAndPrevent=function(e){e.stopPropagation(),e.preventDefault()},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.item.souses&&this.setState({souse:"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"})}},{key:"render",value:function(){var e=this,t=this.props.item;return r.a.createElement("div",{className:"add-to-cart-container flex",onClick:function(t){e.stopAndPrevent(t)}},r.a.createElement("section",{className:"add-to-cart-otpions flex justify-evenly "},r.a.createElement($,{onAdd:this.onAdd,onReduce:this.onReduce,measure:this.props.item.measure,quantity:this.state.quantity}),t.souses&&r.a.createElement(se,{chosenSouse:this.state.souse,souses:t.souses,sousePrice:t.sousePrice,onSouseChange:this.onSouseChange})),r.a.createElement(Z,{onAddToCart:this.onAddToCart}))}}]),n}(a.Component),ie={addToCart:function(e){return function(t,n){t(n().userReducer.cart.find((function(t){return e.name===t.name&&(!e.souse||t.souse===e.souse)}))?{type:"UPDATE_QUANTITY",item:e}:{type:"ADD_TO_CART",item:e})}}},le=Object(o.f)(Object(h.b)((function(e){return{cart:e.userReducer.cart}}),ie)(oe));function ue(e){var t=e.item;return r.a.createElement(A.b,{to:"/details/".concat(t._id),style:{textDecoration:"none"}},r.a.createElement("div",{className:"item-card flex "},r.a.createElement("img",{className:"item-img",src:t.imgUrl,alt:"seitan-img"}),r.a.createElement("section",{className:"info-and-buttons"},r.a.createElement("section",{className:"item-info-wrapper"},r.a.createElement("section",{className:"item-info "},r.a.createElement("h2",null,t.name),r.a.createElement("h3",null,t.miniDescription),r.a.createElement("h4",null,t.size)),r.a.createElement("h3",null,"\u20aa",t.price),r.a.createElement("h4",null,t.size)),r.a.createElement(le,{item:t}))))}function pe(e){var t=e.items;return r.a.createElement("div",{className:"items-list flex"},r.a.Children.toArray(t.map((function(e){return r.a.createElement(ue,{item:e})}))))}var me=n(10);function de(e){var t=e.item;return r.a.createElement(r.a.Fragment,null,t.souse&&r.a.createElement("div",{className:"item-souse"},r.a.createElement("span",null,"\u05de\u05e8\u05d9\u05e0\u05d3\u05d4 :",t.souse),0!==t.sousePrice&&"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"!==t.souse&&r.a.createElement("span",null,"/ ",t.sousePrice,"\u20aa")))}function fe(e){var t=e.item,a=e.onUpdateQuantity,c=e.onDeleteItem;return r.a.createElement("li",{className:"cart-item flex"},r.a.createElement("section",{className:"flex"},r.a.createElement("img",{className:"item-img",src:t.imgUrl,alt:"seitan-img"}),r.a.createElement("section",{className:"item-info"},r.a.createElement("section",null,r.a.createElement("div",{className:"item-name"},t.name),r.a.createElement("div",{className:"item-size"},t.size)),r.a.createElement(de,{item:t}))),r.a.createElement("section",{className:"price-amount"},r.a.createElement("h4",null,function(e){return e.quantity*(e.price+(e.souse&&"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"!==(null===e||void 0===e?void 0:e.souse)?e.sousePrice:0))}(t),"\u20aa"),r.a.createElement($,{onAdd:function(){return a(t,1)},onReduce:function(){return a(t,-1)},measure:t.measure,quantity:t.quantity})),r.a.createElement("div",{className:"delete-btn",onClick:function(){return c(t)}},r.a.createElement("img",{src:n(237)})))}var he=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onUpdateQuantity=function(t,n){-1===n&1===t.quantity||(t.quantity+=n,e.props.updateQuantity({item:t}))},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.props.cart;return 0===t.length?r.a.createElement("div",{className:"cart-items-list"},r.a.createElement("h3",null,"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e8\u05d9\u05e7\u05d4")):r.a.createElement("ul",{className:"cart-items-list"},r.a.Children.toArray(t.map((function(t){return r.a.createElement(fe,{item:t,onUpdateQuantity:e.onUpdateQuantity,onDeleteItem:e.props.deleteItem})}))))}}]),n}(a.Component),ve={updateQuantity:function(e){return function(t){return t({type:"UPDATE_QUANTITY",item:e})}},deleteItem:function(e){return function(t,n){t({type:"DELETE_ITEM",idx:n().userReducer.cart.findIndex((function(t){return e.name===t.name&&(!e.souse||t.souse===e.souse)}))})}},emptyCart:M},ye=Object(h.b)((function(e){return{cart:e.userReducer.cart}}),ve)(he),Ee=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={txt:"",innerStyle:{display:"none"}},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.total,t=this.props.settings.freeDeliveryPrice,n={},a=e/t*100,r=" \u05e2\u05d5\u05d3 \u20aa".concat(t-e," \u05d5\u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05e2\u05dc\u05d9\u05e0\u05d5!  ");a>=100&&(r="\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d9\u05e0\u05dd!",n.backgroundColor="green"),n.width="".concat(a,"%"),this.setState({innerStyle:n,txt:r})}},{key:"componentDidUpdate",value:function(e){if(this.props!==e){var t=this.props.total,n=this.props.settings.freeDeliveryPrice,a={},r=t/n*100,c=" \u05e2\u05d5\u05d3 \u20aa".concat(n-t," \u05d5\u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05e2\u05dc\u05d9\u05e0\u05d5!  ");r>=100&&(c="\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d9\u05e0\u05dd!",a.backgroundColor="green"),a.width="".concat(r,"%"),this.setState({innerStyle:a,txt:c})}}},{key:"render",value:function(){return r.a.createElement("section",{className:"free-shipment-container flex align-center justify-around"},r.a.createElement("div",{className:"free-shipment-txt1"}," ",this.state.txt),r.a.createElement("div",{className:"free-shipment-bar "},r.a.createElement("div",{className:"inner-style"},r.a.createElement("div",{className:"inner-container",style:this.state.innerStyle},r.a.createElement("img",{src:n(238),alt:"delivery"})))),r.a.createElement("div",{className:"free-shipment-txt2"},"\u05e1\u05db\u05d5\u05dd \u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05d9\u05e7\u05d1\u05e2 \u05e1\u05d5\u05e4\u05d9\u05ea \u05dc\u05d0\u05d7\u05e8 \u05d1\u05d7\u05d9\u05e8\u05ea \u05e9\u05d9\u05d8\u05ea \u05d4\u05de\u05e9\u05dc\u05d5\u05d7"))}}]),a}(a.Component),ge=Object(h.b)((function(e){return{total:e.userReducer.total,settings:e.settingsReducer.settings}}))(Ee);function be(e){var t=e.onToggle;return r.a.createElement("div",{className:"cart-toggle-mobile",onClick:t},r.a.createElement("div",{className:"img-container"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"white-block"},"\u05e1\u05dc \u05e7\u05e0\u05d9\u05d5\u05ea"))}function Oe(e){var t=e.total,n=e.onNextClick,a=e.minTotal;return r.a.createElement("section",{className:"total-next-action"},r.a.createElement("h3",null,"\u05e1\u05da \u05d4\u05db\u05dc \u05d1\u05e1\u05dc \u05d4\u05e7\u05e0\u05d9\u05d5\u05ea"),r.a.createElement("div",{className:"total"},r.a.createElement("div",null,"\u05e1\u05da \u05d4\u05db\u05dc:"),r.a.createElement("div",null,"\u20aa ",t)),n?r.a.createElement("div",{className:"checkout-btn",onClick:n},"\u05dc\u05d1\u05d7\u05d9\u05e8\u05ea \u05de\u05e9\u05dc\u05d5\u05d7"):r.a.createElement(A.c,{onClick:function(e){return function(e){t<a&&(t>0&&alert("\u05de\u05ea\u05e0\u05e6\u05dc\u05ea, \u05de\u05d9\u05e0\u05d9\u05de\u05d5\u05dd \u05d4\u05d6\u05de\u05e0\u05d4 \u20aa".concat(a,"\u20aa")),e.preventDefault())}(e)},to:{pathname:"/checkout",state:{fromNavBar:!1}}},r.a.createElement("div",{className:"checkout-btn ".concat(0===t?"disabled":"")},"\u05dc\u05e8\u05db\u05d9\u05e9\u05d4")))}function je(e){var t=e.total,n=e.settings,c=Object(a.useState)(!1),s=Object(me.a)(c,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){var e=o?"position:fixed":"";return document.body.setAttribute("style",e),console.log(document.body),function(){document.body.setAttribute("style","")}}),[o]),r.a.createElement("div",{className:"cart ".concat(o?"open":"close")},r.a.createElement(be,{onToggle:function(){i(!o)}}),r.a.createElement(ge,null),r.a.createElement("section",{className:"items-container"},r.a.createElement("h3",null,"\u05e1\u05d9\u05db\u05d5\u05dd \u05d4\u05d6\u05de\u05e0\u05d4"),r.a.createElement(ye,null),r.a.createElement(Oe,{total:t,minTotal:n.minTotal})))}var ke=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadItems();case 2:return e.next=4,this.props.loadSettings();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.items;return y.a.isEmpty(e)?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"shop flex"},r.a.createElement(pe,{items:e}),r.a.createElement(je,{total:this.props.total,settings:this.props.settings})))}}]),n}(a.Component),we={loadItems:D,loadSettings:P},Se=Object(o.f)(Object(h.b)((function(e){return{total:e.userReducer.total,items:e.itemReducer.items,loggedInUser:e.userReducer.loggedInUser,settings:e.settingsReducer.settings}}),we)(ke)),Ne=n(21),xe={query:function(){return De.apply(this,arguments)},getById:function(e){return Ce.apply(this,arguments)},save:function(e){return Re.apply(this,arguments)},remove:function(e){return Te.apply(this,arguments)}};function De(){return(De=Object(u.a)(l.a.mark((function e(){var t,n,a,r,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1?c[1]:void 0,!t){e.next=8;break}return a=t?"?".concat(n,"=").concat(t):"",e.next=6,b("".concat("/order").concat(a),{params:t});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return(Ce=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("".concat("/order","/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.createdAt=new Date(Date.now()).toLocaleString(),e.next=3,O("".concat("/order"),t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("".concat("/order","/").concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=n(173),Ae=n(78);function _e(e){var t=e.orders,n=e.removeOrder,a=[{field:"idx",headerName:"#",width:70},{field:"firstName",headerName:"First Name",width:130},{field:"lastName",headerName:"Last name",width:130},{field:"itemsCount",headerName:"Items ",width:100},{field:"supplyCity",headerName:"Supply city",width:200},{field:"supplyType",headerName:"Supply type",width:200},{field:"supplyDate",headerName:"Supply date",width:200},{field:"",headerName:"Action",sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return r.a.createElement(Ae.a,{color:"secondary",variant:"contained",onClick:function(){window.confirm("Are you sure you want to delete this item?")&&n(e.row.id)}},"Delete")}}],c=t.map((function(e,t){return{id:e._id,idx:t+1,firstName:e.customerDetails.firstName,lastName:e.customerDetails.lastName,itemsCount:e.items.length,supplyType:e.supply.type,supplyDate:s(e.supply.supplyDate),supplyCity:e.supply.name}}));function s(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),"".concat(a,"-").concat(n,"-").concat(r)}return r.a.createElement("div",{className:"orders-table",style:{height:400,width:"100%"}},r.a.createElement(Pe.a,{rows:c,columns:a}))}var Ie=n(178),Ue=n(106);function qe(e){var t=e.orders,n=e.items,a=e.fileName,c=t.map((function(e,t){var a={"#":t+1,"First Name":e.customerDetails.firstName,"Last Name":e.customerDetails.lastName,Email:e.customerDetails.email,Phone:e.customerDetails.phone,Town:e.customerDetails.town,Street:e.customerDetails.street,"Supply type":e.supply.type,"Supply details":e.supply.name,Total:e.totalPayment};return console.log("items:",n),e.items.map(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a["".concat(t.name).concat(t.souse?"+"+t.souse:"")]=t.quantity;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a}));var s=function(){var e={Sheets:{Delivery:Ue.utils.json_to_sheet(c),Kitchen:Ue.utils.json_to_sheet(function(){for(var e=[],a=[],r=n.findIndex((function(e){return"souses"in e})),c=0;c<n[r].souses.length;c++){var s=n[r].souses[c];a.push(s)}for(var o=[],i=0;i<t.length;i++){t[i].items.forEach((function(e){"gram"===e.measure&&o.push(e.quantity)}))}o.sort((function(e,t){return e-t}));for(var l=function(r){var c=n[r],s={};s.Product=c.name,s["Total Grams"]=0,s["Total Units"]=0,a.forEach((function(e){s[e]=0})),o.forEach((function(e){s["".concat(100*e," grams")]=0})),t.forEach((function(e){e.items.forEach((function(e){if(e.name===c.name)switch(e.measure){case"gram":s["Total Grams"]+=100*e.quantity,o.forEach((function(t){s["".concat(100*t," grams")]+=e.quantity===t?e.quantity:0}));break;case"unit":s["Total Units"]+=e.quantity,a.forEach((function(t){s[t]+=e.souse===t?e.quantity:0}))}}))})),e.push(s)},u=0;u<n.length;u++)l(u);for(var p=0;p<e.length;p++){var m=e[p];for(var d in m)0==m[d]&&(m[d]=null)}return console.log(e),e}())},SheetNames:["Delivery","Kitchen"]},r=Ue.write(e,{bookType:"xlsx",type:"array"}),s=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Ie.saveAs(s,a+".xlsx")};return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return s()}},"Export"))}var Le=n(129),Me=n(192),Ge=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={date:null,readOnly:{freeDeliveryPrice:!0,supplyDate:!0,maxGrams:!0},settings:{},filterBy:{}},e.toggleEdit=function(t,n){t.preventDefault(),e.setState((function(t){return Object(_.a)(Object(_.a)({},t),{},{readOnly:Object(_.a)(Object(_.a)({},t.readOnly),{},Object(Ne.a)({},n,!e.state.readOnly[n]))})}))},e.handleChange=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target,r=a.name,c="number"===a.type?+a.value:"date"===a.type?new Date(a.value).getTime():a.value,t.next=5,e.setState((function(e){return Object(_.a)(Object(_.a)({},e),{},{settings:Object(_.a)(Object(_.a)({},e.settings),{},Object(Ne.a)({},r,c))})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadSettings(this.state.filterBy);case 2:return this.setState({settings:this.props.settings},(function(){t.setState({date:t._formatDate(t.state.settings.supplyDate)})})),e.next=5,this.props.loadOrders();case 5:return e.next=7,this.props.loadItems();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onUpdateSettings",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.saveSettings(this.state.settings);case 3:Object.keys(this.state.readOnly).forEach((function(e){n.setState({readOnly:Object(_.a)(Object(_.a)({},n.state.readOnly),{},Object(Ne.a)({},e,!0))})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_formatDate",value:function(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),"".concat(r,"-").concat(n,"-").concat(a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.orders,a=t.items;return console.log(a),window.orders=n,window.items=a,this.props.loggedInUser?a[8]&&a[8].description[0]?r.a.createElement("div",{className:"main-container"},r.a.createElement("form",{className:"control-form"},r.a.createElement("section",null,r.a.createElement(Le.a,{htmlFor:"freeDeliveryPrice"},"\u05de\u05d7\u05d9\u05e8 \u05de\u05d9\u05e0\u05d9\u05de\u05dc\u05d9 \u05dc\u05de\u05e9\u05dc\u05d5\u05d7 \u05d7\u05d9\u05e0\u05dd"),r.a.createElement(Me.a,{type:"number",name:"freeDeliveryPrice",id:"freeDeliveryPrice",onChange:function(t){return e.handleChange(t)},value:this.state.settings.freeDeliveryPrice,disabled:this.state.readOnly.freeDeliveryPrice}),r.a.createElement("button",{onClick:function(t){return e.toggleEdit(t,"freeDeliveryPrice")}},"\u05e2\u05e8\u05d5\u05da")),r.a.createElement("section",null,r.a.createElement(Le.a,{htmlFor:"supplyDate"},"\u05de\u05d5\u05e2\u05d3 \u05de\u05e9\u05dc\u05d5\u05d7 \u05d4\u05d1\u05d0"),this.state.date&&r.a.createElement(Me.a,{id:"supplyDate",name:"supplyDate",label:"Birthday",type:"date",format:"dd/MM/yyyy",defaultValue:this.state.date,disabled:this.state.readOnly.supplyDate,onChange:function(t){return e.handleChange(t)},InputLabelProps:{shrink:!0}}),r.a.createElement("button",{onClick:function(t){return e.toggleEdit(t,"supplyDate")}},"\u05e2\u05e8\u05d5\u05da")),r.a.createElement("section",null,r.a.createElement(Le.a,{htmlFor:"maxGrams"},"\u05de\u05e7\u05e1\u05d9\u05de\u05d5\u05dd \u05d2\u05e8\u05de\u05d9\u05dd \u05dc\u05d4\u05d6\u05de\u05e0\u05d4"),r.a.createElement(Me.a,{type:"number",name:"maxGrams",id:"maxGrams",onChange:function(t){return e.handleChange(t)},value:this.state.settings.maxGrams,disabled:this.state.readOnly.maxGrams}),r.a.createElement("button",{onClick:function(t){return e.toggleEdit(t,"maxGrams")}},"\u05e2\u05e8\u05d5\u05da")),r.a.createElement("button",{onClick:function(t){return e.onUpdateSettings(t)}}," ","\u05e9\u05de\u05d5\u05e8 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd")),r.a.createElement(qe,{items:a,orders:n,fileName:"Report for 10/2"}),0!==n.length&&r.a.createElement(_e,{orders:n,removeOrder:this.props.removeOrder})):r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null)}}]),n}(a.Component),Be={loadSettings:P,saveSettings:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Actions:",e),t.next=3,C.save(e);case 3:a=t.sent,n({type:"SET_SETTINGS",settingsToSave:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadOrders:function(e,t){return function(){var n=Object(u.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xe.query(e,t);case 2:r=n.sent,a({type:"LOAD_ORDERS",orders:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeOrder:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe.remove(e);case 2:n({type:"REMOVE_ORDER",orderId:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},loadItems:D},Ve=Object(h.b)((function(e){return{settings:e.settingsReducer.settings,loggedInUser:e.userReducer.loggedInUser,orders:e.orderReducer.orders,items:e.itemReducer.items}}),Be)(Ge);function Fe(){return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",null,"\u05e2\u05dc \u05d4\u05e1\u05d9\u05d9\u05d8\u05df"))}function Qe(){return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",null,"\u05e2\u05dc \u05d4\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"))}function Ye(){return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",null,"\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05e9\u05dc\u05e0\u05d5"))}function We(){return r.a.createElement("div",{className:"home-container main-container"},r.a.createElement("div",{className:"hero"}," HERO"),r.a.createElement(A.c,{to:"/shop"},r.a.createElement("button",null,"\u05dc\u05de\u05d5\u05e6\u05e8\u05d9\u05dd")))}var He=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",loginCred:{userName:"",password:""}},e.loginHandleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState((function(e){return{loginCred:Object(_.a)(Object(_.a)({},e.loginCred),{},Object(Ne.a)({},a,r))}}))},e.doLogin=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),console.log("Login:",e.state.loginCred),a=e.state.loginCred,r=a.userName,c=a.password,r&&c){t.next=5;break}return t.abrupt("return",e.setState({msg:"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05d9\u05e1\u05d5 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d5\u05e1\u05d9\u05e1\u05de\u05d0"}));case 5:return s={userName:r,password:c},t.next=8,e.props.login(s);case 8:console.log("after login:",e.props.loggedInUser),e.props.loggedInUser&&e.props.history.push("/control"),e.setState({loginCred:{userName:"",password:""}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(n,[{key:"render",value:function(){var e,t,n=r.a.createElement("form",{className:"login-form"},r.a.createElement(Me.a,{autoFocus:!0,required:!0,type:"text",name:"userName",value:this.state.loginCred.userName,onChange:this.loginHandleChange,placeholder:"User Name"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Me.a,{required:!0,type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement(Ae.a,(e={variant:"text"},Object(Ne.a)(e,"variant","outlined"),Object(Ne.a)(e,"color","primary"),Object(Ne.a)(e,"onClick",this.doLogin),e),"Login")),a=this.props.loggedInUser;return r.a.createElement("div",{className:"login main-container"},r.a.createElement("h2",null,this.state.msg),a&&r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome: ",a.userName),r.a.createElement(Ae.a,(t={variant:"text"},Object(Ne.a)(t,"variant","outlined"),Object(Ne.a)(t,"color","primary"),Object(Ne.a)(t,"onClick",this.props.logout),t),"Logout")),!a&&n)}}]),n}(a.Component),ze={login:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.login(e);case 2:a=t.sent,n({type:"SET_USER",user:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:G},Je=Object(h.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),ze)(He);function Ke(e){var t=e.total,n=e.onNextClick;return 0===t?r.a.createElement("div",{className:"cart"},r.a.createElement("h2",null,"\u05d4\u05e2\u05d2\u05dc\u05d4 \u05e8\u05d9\u05e7\u05d4")):r.a.createElement("div",{className:"cart"},r.a.createElement("section",null,r.a.createElement(ye,null),r.a.createElement(A.c,{to:"/shop"},r.a.createElement("div",{className:"back-button"},"\u05d7\u05d6\u05e8\u05d4 \u05dc\u05d7\u05e0\u05d5\u05ea"))),r.a.createElement("section",{className:"shipment-total"},r.a.createElement(ge,null),r.a.createElement(Oe,{total:t,onNextClick:n})))}var Xe=n(104),$e=n(182),Ze=n(58),et=n(46),tt=n(73),nt=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedOption:null},e.handleChange=function(t){e.setState({selectedOption:t}),e.props.saveSupplyMethod({type:"delivery",name:t.value.name,supplyDate:e.props.supplyDate,price:t.value.price})},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.chosenDelivery&&"delivery"===this.props.chosenDelivery.type&&this.setState({selectedOption:{value:{name:this.props.chosenDelivery.name,price:this.props.chosenDelivery.price},label:"".concat(this.props.chosenDelivery.name," (").concat(this.props.chosenDelivery.price,'\u05e9"\u05d7) ')}})}},{key:"render",value:function(){var e=this.props.delivery.map((function(e){return{value:e,label:"".concat(e.name," (").concat(e.price,'\u05e9"\u05d7) ')}}));return r.a.createElement("div",null,r.a.createElement(tt.a,{value:this.state.selectedOption,onChange:this.handleChange,options:e}),this.state.selectedOption&&this.state.selectedOption.value.citiesList&&r.a.createElement("div",null,'\u05d4\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d1\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d4\u05e0"\u05dc:',this.state.selectedOption.value.citiesList.map((function(e,t){return r.a.createElement("span",null,0===t?"".concat(e,", "):e)}))))}}]),n}(a.Component),at=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedOption:null},e.handleChange=function(t){e.setState({selectedOption:t}),e.props.saveSupplyMethod({type:"pickup",name:t.value,supplyDate:e.props.supplyDate,price:0})},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.chosenPickup&&"pickup"===this.props.chosenPickup.type&&this.setState({selectedOption:{value:{name:this.props.chosenPickup.name},label:this.props.chosenPickup.name}})}},{key:"render",value:function(){var e=this.props.pickup.map((function(e){return{value:e,label:e}}));return r.a.createElement("div",null,r.a.createElement(tt.a,{value:this.state.selectedOption,onChange:this.handleChange,options:e}))}}]),n}(a.Component),rt=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedOption:null},e.handleChange=function(t){e.setState({selectedOption:t}),e.props.saveSupplyMethod({type:"specialGroup",name:t.value.name,supplyDate:t.value.supplyDate,price:0})},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.chosenSpecialGroup&&"specialGroup"===this.props.chosenSpecialGroup.type&&this.setState({selectedOption:{value:{name:this.props.chosenSpecialGroup.name,supplyDate:this.props.chosenSpecialGroup.supplyDate},label:this.props.chosenSpecialGroup.name}})}},{key:"render",value:function(){var e=this.props.specialGroup.map((function(e){return{value:e,label:e.name}}));return r.a.createElement("div",null,r.a.createElement(tt.a,{value:this.state.selectedOption,onChange:this.handleChange,options:e}))}}]),n}(a.Component);function ct(e){var t=e.supplyDate,n=["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u05d4\u05de\u05e9\u05dc\u05d5\u05d7 \u05d9\u05d4\u05d9\u05d4 \u05de\u05d5\u05db\u05df \u05d1\u05ea\u05d0\u05e8\u05d9\u05da ",function(){var e=new Date(t),a=e.getDay(),r=n[e.getMonth()];return"".concat(a," \u05d1").concat(r)}()))}var st=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={optionsCmp:null,btnClicked:null,supply:null},e.onButtonClicked=function(t){var n=e.props.settings,a=n.delivery,c=n.pickup,s=n.specialGroup,o=r.a.createElement(nt,{delivery:a,supplyDate:e.props.settings.supplyDate,saveSupplyMethod:e.props.saveSupplyMethod,chosenDelivery:e.props.supply}),i=r.a.createElement(at,{pickup:c,supplyDate:e.props.settings.supplyDate,saveSupplyMethod:e.props.saveSupplyMethod,chosenPickup:e.props.supply}),l=r.a.createElement(rt,{specialGroup:s,saveSupplyMethod:e.props.saveSupplyMethod,chosenSpecialGroup:e.props.supply});switch(t){case"delivery":e.setState({optionsCmp:o});break;case"pickup":e.setState({optionsCmp:i});break;case"specialGroup":e.setState({optionsCmp:l})}e.setState({activeCmp:t,btnClicked:t})},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({supply:this.props.supply});case 2:if(this.state.supply){e.next=4;break}return e.abrupt("return");case 4:this.onButtonClicked(this.state.supply.type);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="delivery-choice-btn";return r.a.createElement("div",{className:"delivery-container"},r.a.createElement("section",{className:"delivery-btns"},r.a.createElement("div",{className:"".concat(t)+"".concat("delivery"===this.state.btnClicked?" clicked":""),onClick:function(){return e.onButtonClicked("delivery")}},"\u05de\u05e9\u05dc\u05d5\u05d7"),r.a.createElement("div",{className:"".concat(t)+"".concat("pickup"===this.state.btnClicked?" clicked":""),onClick:function(){return e.onButtonClicked("pickup")}},"\u05d0\u05d9\u05e1\u05d5\u05e3 \u05e2\u05e6\u05de\u05d9"),r.a.createElement("div",{className:"".concat(t)+"".concat("specialGroup"===this.state.btnClicked?" clicked":""),onClick:function(){return e.onButtonClicked("specialGroup")}},"\u05e7\u05d1\u05d5\u05e6\u05ea \u05e8\u05db\u05d9\u05e9\u05d4")),this.state.optionsCmp,this.props.supply&&r.a.createElement(ct,{supplyDate:this.props.supply.supplyDate}))}}]),n}(a.Component),ot={saveSupplyMethod:function(e){return function(t){return t({type:"SAVE_SUPPLY\u05b9\u05b9\u05b9_METHOD",supply:e})}}},it=Object(h.b)((function(e){return{settings:e.settingsReducer.settings,customerDetails:e.userReducer.customerDetails,supply:e.userReducer.supply}}),ot)(st),lt=Object(et.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}}})),ut=Ze.a().shape({firstName:Ze.b().required(),lastName:Ze.b().required(),phone:Ze.b().required().min(9),email:Ze.b().required(),town:Ze.b().required(),street:Ze.b().required()});function pt(e){var t=e.onSaveDetails,n=e.customerDetails,a=lt(),c=Object(Xe.b)({resolver:Object($e.yupResolver)(ut)}),s=c.register,o=c.handleSubmit,i=c.errors,l=function(e){console.log("errors:",i),console.log(e),t(e)};return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"details-container"},r.a.createElement("form",{className:a.root,onSubmit:o(l)},r.a.createElement("section",null,r.a.createElement(Me.a,{floatingLabelText:"\u05e9\u05dd",type:"text",id:"name",name:"firstName",label:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",variant:"outlined",defaultValue:n.firstName,inputRef:s})),r.a.createElement("section",null,r.a.createElement(Me.a,{type:"text",id:"lastname",name:"lastName",label:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",variant:"outlined",color:"secondary",defaultValue:n.lastName,inputRef:s})),r.a.createElement("section",null,r.a.createElement(Me.a,{type:"tel",id:"phone",name:"phone",label:"\u05de\u05e1' \u05d8\u05dc\u05e4\u05d5\u05df ",variant:"outlined",color:"secondary",defaultValue:n.phone,inputRef:s})),r.a.createElement("section",null,r.a.createElement(Me.a,{type:"email",id:"email",name:"email",label:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc ",variant:"outlined",color:"secondary",defaultValue:n.email,inputRef:s})),r.a.createElement("section",null,r.a.createElement(Me.a,{type:"text",id:"town",name:"town",label:"\u05e2\u05d9\u05e8",variant:"outlined",color:"secondary",defaultValue:n.town,inputRef:s})),r.a.createElement("section",null,r.a.createElement(Me.a,{type:"text",id:"street",name:"street",label:"\u05e8\u05d7\u05d5\u05d1, \u05d1\u05e0\u05d9\u05d9\u05df, \u05d3\u05d9\u05e8\u05d4",variant:"outlined",color:"secondary",defaultValue:n.street,inputRef:s}))),r.a.createElement(it,null)),r.a.createElement("button",{className:"btn",onClick:o(l)},"\u05d4\u05de\u05e9\u05da \u05dc\u05ea\u05e9\u05dc\u05d5\u05dd"))}function mt(e){var t=e.onNextClick;e.total,e.supply;return r.a.createElement("div",{className:"payment"},r.a.createElement("h2",null,"\u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05dc\u05dd \u05d1\u05d3\u05e8\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d5\u05ea:"),r.a.createElement("section",{className:"payment-options"},r.a.createElement("div",null,r.a.createElement("h2",null,"\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d9\u05ea Bit \u05d0\u05d5 Paybox"),r.a.createElement("p",null,r.a.createElement("div",null," \u05e0\u05d0 \u05dc\u05d4\u05e2\u05d1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05ea\u05e9\u05dc\u05d5\u05dd \u05dc\u05d0\u05d9\u05d4 "),r.a.createElement("div",null," \u05dc\u05de\u05e1\u05e4\u05e8 054-369-0088"))),r.a.createElement("div",null,r.a.createElement("h2",null,"\u05de\u05d6\u05d5\u05de\u05df"),r.a.createElement("p",null,r.a.createElement("div",null," \u05dc\u05d0 \u05dc\u05d4\u05e2\u05d1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05ea\u05e9\u05dc\u05d5\u05dd \u05d1\u05de\u05d6\u05d5\u05de\u05df"),r.a.createElement("div",null," \u05d1\u05e2\u05ea \u05e7\u05d1\u05dc\u05ea \u05d4\u05de\u05e9\u05dc\u05d5\u05d7"))),r.a.createElement("div",null,r.a.createElement("h2",null,"\u05d4\u05e2\u05d1\u05e8\u05d4 \u05d1\u05e0\u05e7\u05d0\u05d9\u05ea"),r.a.createElement("p",null,r.a.createElement("div",null," \u05e0\u05d0 \u05dc\u05d4\u05e2\u05d1\u05d9\u05e8 \u05d0\u05ea \u05d4\u05ea\u05e9\u05dc\u05d5\u05dd \u05dc\u05e4\u05d9 \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd:"),r.a.createElement("div",null," \u05dc\u05e4\u05e7\u05d5\u05d3\u05ea: \u05d0\u05d9\u05d4 \u05d1\u05e0\u05e7:"),r.a.createElement("div",null," \u05e1\u05e0\u05d9\u05e3: \u05de\u05e1\u05e4\u05e8 \u05d7\u05e9\u05d1\u05d5\u05df:")))),r.a.createElement("button",{className:"btn",onClick:t},"\u05dc\u05d4\u05e9\u05dc\u05de\u05ea \u05d4\u05e8\u05db\u05d9\u05e9\u05d4"))}function dt(){return r.a.createElement("div",{className:"main-container"},r.a.createElement("h3",null,"\u05de\u05d6\u05dc \u05d8\u05d5\u05d1!"),r.a.createElement("h4",null,"\u05d4\u05d6\u05de\u05e0\u05ea\u05da \u05d4\u05d5\u05e9\u05dc\u05de\u05ea!"))}var ft=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={currStage:0,isCustDetValidated:!1,customerDetails:{firstName:"",lastName:"",email:"",phone:null,town:"",street:""}},e.onSaveDetails=function(t){e.setState((function(e){return Object(_.a)(Object(_.a)({},e),{},{customerDetails:Object(_.a)({},t)})})),e.props.saveCustomerDetails(e.state.customerDetails),e.onNextClick()},e.onNextClick=function(){if(1===e.state.currStage&&y.a.isEmpty(e.props.supply))return alert("\u05d1\u05d1\u05e7\u05e9\u05d4 \u05d1\u05d7\u05e8\u05d5 \u05d0\u05ea \u05e9\u05d9\u05d8\u05ea \u05d4\u05de\u05e9\u05dc\u05d5\u05d7");e.state.currStage;e.setState({currStage:e.state.currStage+1},Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log({stageAfter:e.state.currStage}),3!==e.state.currStage){t.next=11;break}return(n={}).items=e.props.cart.map((function(e){var t={};return t.itemId=e._id,t.name=e.name,t.souse=e.souse,t.quantity=e.quantity,t.measure=e.measure,t})),n.customerDetails=e.props.customerDetails,n.supply=e.props.supply,n.totalPayment=e.props.total+e.props.supply.price,n.paymentType="\u05de\u05d6\u05d5\u05de\u05df",t.next=10,e.props.saveOrder(n);case 10:e.props.emptyCart();case 11:case"end":return t.stop()}}),t)}))))},e.onSaveDetails=function(t){e.setState((function(e){return Object(_.a)(Object(_.a)({},e),{},{customerDetails:Object(_.a)({},t)})})),e.props.saveCustomerDetails(e.state.customerDetails),e.onNextClick()},e.renderSwitch=function(t){switch(e.state.currStage){case 0:return r.a.createElement(Ke,{onNextClick:e.onNextClick,total:e.props.total});case 1:return r.a.createElement(pt,{onSaveDetails:e.onSaveDetails,customerDetails:e.state.customerDetails,settings:e.props.settings});case 2:return r.a.createElement(mt,{onNextClick:e.onNextClick,total:e.props.total,supply:e.props.supply});case 3:return r.a.createElement(dt,null)}},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){console.log({locationState:this.props.location.state}),this.props.customerDetails&&this.setState({customerDetails:this.props.customerDetails}),"nav"===this.props.location.state&&0!==this.state.currStage&&(this.setState({currStage:0}),console.log("cart clicked from nav"))}},{key:"componentDidUpdate",value:function(e){console.log({locationStateUpdate:this.props.location.state}),e!==this.props&&"nav"===this.props.location.state&&0!==this.state.currStage&&(this.setState({currStage:0}),console.log("cart clicked from nav"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"checkout-container main-container"},this.renderSwitch())}}]),n}(a.Component),ht={saveCustomerDetails:function(e){return function(t){return t({type:"SAVE_CUSTOMER_DETAILS",details:e})}},loadSettings:P,saveOrder:function(e){return function(){var t=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe.save(e);case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},emptyCart:M},vt=Object(h.b)((function(e){return{customerDetails:e.userReducer.customerDetails,cart:e.userReducer.cart,total:e.userReducer.total,supply:e.userReducer.supply,settings:e.settingsReducer.settings}}),ht)(ft),yt=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={item:null},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadItems();case 2:t=this.props.match.params.id,n=this.props.items.find((function(e){return e._id===t})),this.setState({item:Object(_.a)({},n)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item;return e?r.a.createElement("div",{className:"main-container"},r.a.createElement("h2",null,e.name),r.a.createElement("img",{src:e.imgUrl,alt:"seitan-img"}),r.a.createElement(le,{item:e})):r.a.createElement("h2",null,"Loading...")}}]),n}(a.Component),Et={loadItems:D},gt=Object(h.b)((function(e){return{items:e.itemReducer.items}}),Et)(yt),bt=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={active:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=0===this.props.total?"empty":"";return r.a.createElement("div",{className:"main-container "},r.a.createElement("div",{className:"nav-bar flex justify-between"},r.a.createElement("img",{className:"humburger",src:n(360),alt:"h"}),r.a.createElement(A.c,{exact:!0,className:"nav-bar-logo",activeClassName:"active",to:"/"},r.a.createElement("img",{src:n(361),alt:"logo"})),r.a.createElement("section",{className:"main-buttons flex justify-between"},r.a.createElement(A.c,{exact:!0,className:"nav-button",activeClassName:"active",to:"/shop"},"\u05d7\u05e0\u05d5\u05ea"),r.a.createElement(A.c,{exact:!0,className:"nav-button",to:"/ourstory"},"\u05d4\u05e1\u05d9\u05e4\u05d5\u05e8 \u05e9\u05dc\u05e0\u05d5"),r.a.createElement(A.c,{exact:!0,className:"nav-button",to:"/about"},"\u05e2\u05dc \u05d4\u05e1\u05d9\u05d9\u05d8\u05df"," "),r.a.createElement(A.c,{exact:!0,className:"nav-button",to:"/supply"},"\u05de\u05e9\u05dc\u05d5\u05d7\u05d9\u05dd"," ")),r.a.createElement("section",{className:"checkout"},this.props.loggedInUser&&r.a.createElement("button",{onClick:function(){return e.props.logout()}},"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d9")||r.a.createElement(A.c,{to:{pathname:"/checkout",state:{fromNavBar:!0}}},r.a.createElement("div",{className:"cart-btn ".concat(t," flex")},r.a.createElement("span",null,"\u20aa".concat(this.props.total)),r.a.createElement("img",{src:n(362),alt:""}))))))}}]),a}(a.Component),Ot={logout:G},jt=Object(h.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,total:e.userReducer.total}}),Ot)(bt),kt=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"banner full"},this.props.settings.banner&&r.a.Children.toArray(this.props.settings.banner.map((function(e){return r.a.createElement("div",null,e)}))))}}]),n}(a.Component),wt=Object(h.b)((function(e){return{settings:e.settingsReducer.settings}}))(kt);function St(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-logo"}),r.a.createElement("div",{className:"footer-contact"},r.a.createElement("h4",null,"\u05d3\u05d1\u05e8\u05d5 \u05d0\u05d9\u05ea\u05e0\u05d5"),r.a.createElement("a",{href:"tel:+9720545690088"},"054-569-0088")," ",r.a.createElement("a",{href:"mailto:ayakahila89@gmail.com"},"ayakahila89@gmail.com")),r.a.createElement("div",{className:"footer-credit"},r.a.createElement("div",null,"\u05db\u05dc \u05d4\u05d6\u05db\u05d5\u05d9\u05d5\u05ea \u05e9\u05de\u05d5\u05e8\u05d5\u05ea \xa9 2021 - \u05d3\u05e8\u05da \u05d4\u05e1\u05d9\u05d9\u05d8\u05df"),r.a.createElement("div",null,"\u05e2\u05d9\u05e6\u05d5\u05d1 \u05d5\u05d1\u05e0\u05d9\u05d9\u05ea \u05d0\u05ea\u05e8 - \u05db\u05e4\u05d9\u05e8 \u05e4\u05d5\u05e7\u05e1, \u05d0\u05dc\u05db\u05e1 \u05d2\u05d5\u05d1\u05e8\u05de\u05df, \u05dc\u05d9\u05e8\u05d5\u05df-\u05e2\u05e0\u05d1\u05dc \u05e4\u05e8\u05e1\u05d9")))}var Nt=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(jt,null),r.a.createElement(wt,null)),r.a.createElement("div",{className:"App"},r.a.createElement(o.c,null,r.a.createElement(o.a,{component:Ve,path:"/control"}),r.a.createElement(o.a,{component:Je,path:"/login"}),r.a.createElement(o.a,{component:gt,path:"/details/:id?"}),r.a.createElement(o.a,{component:vt,path:"/checkout"}),r.a.createElement(o.a,{component:Se,path:"/shop"}),r.a.createElement(o.a,{component:Ye,path:"/ourstory"}),r.a.createElement(o.a,{component:Fe,path:"/about"}),r.a.createElement(o.a,{component:Qe,path:"/supply"}),r.a.createElement(o.a,{component:We,path:"/"}))),r.a.createElement("footer",null,r.a.createElement(St,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt=n(65),Dt=n(183),Ct={items:[]};var Rt=n(13),Tt=null;sessionStorage.user&&(Tt=JSON.parse(sessionStorage.user));var Pt={loggedInUser:Tt,customerDetails:null,cart:[],supply:null,total:0};var At={settings:[]};var _t={orders:[]};var It=Object(xt.c)({itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(_.a)(Object(_.a)({},e),{},{items:t.items});default:return e}},userReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_USER":return Object(_.a)(Object(_.a)({},t),{},{loggedInUser:n.user});case"ADD_TO_CART":return Object(_.a)(Object(_.a)({},t),{},{cart:[].concat(Object(Rt.a)(t.cart),[n.item]),total:t.total+n.item.quantity*(n.item.price+(n.item.souse&&"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"!==(null===(e=n.item)||void 0===e?void 0:e.souse)?n.item.sousePrice:0))});case"UPDATE_QUANTITY":var a=0;return Object(_.a)(Object(_.a)({},t),{},{cart:t.cart.map((function(e){return n.item.name!==e.name||n.item.souse&&n.item.souse!==e.souse||(e.quantity+=n.item.quantity),a+=e.quantity*(e.price+(e.souse&&"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"!==e.souse?e.sousePrice:0)),e})),total:a});case"DELETE_ITEM":var r=Object(Rt.a)(t.cart);return r.splice(n.idx,1),Object(_.a)(Object(_.a)({},t),{},{cart:Object(Rt.a)(r),total:t.total-t.cart[n.idx].quantity*(t.cart[n.idx].price+(t.cart[n.idx].souse&&"\u05dc\u05dc\u05d0 \u05de\u05e8\u05d9\u05e0\u05d3\u05d4"!==t.cart[n.idx].souse?t.cart[n.idx].sousePrice:0))});case"EMPTY_CART":return Object(_.a)(Object(_.a)({},t),{},{cart:[],total:0});case"SAVE_CUSTOMER_DETAILS":return Object(_.a)(Object(_.a)({},t),{},{customerDetails:Object(_.a)({},n.details)});case"SAVE_SUPPLY\u05b9\u05b9\u05b9_METHOD":return Object(_.a)(Object(_.a)({},t),{},{supply:Object(_.a)({},n.supply)});default:return t}},settingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return Object(_.a)(Object(_.a)({},e),{},{settings:t.settings});default:return e}},orderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS":return Object(_.a)(Object(_.a)({},e),{},{orders:t.orders});case"REMOVE_ORDER":return Object(_.a)(Object(_.a)({},e),{},{orders:e.orders.filter((function(e){return e._id!==t.orderId}))});default:return e}}}),Ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xt.d,qt=Object(xt.e)(It,Ut(Object(xt.a)(Dt.a)));n(363);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:qt},r.a.createElement(A.a,null,r.a.createElement(Nt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.c665bedd.chunk.js.map